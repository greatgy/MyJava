##### 降级

    熔断和限流都是降级的一种

##### 熔断

    是一种状态机，调用失败一定次数后 打开开关直接返回空值，计时一段时间开关半打开尝试调用，调用成功关闭开关，失败打开开关

##### 限流

    通常在网关层限流，常用两种算法

    漏桶算法：在请求发送端和接受端增加漏桶缓存请求超出容量返回失败 使用消息队列实现

    令牌桶算法：以一定速率生成令牌，处理每个请求先获取令牌，未获取到等待或返回失败 令牌桶空值最大容量 单机可以用Guava的rateLimit 分布式环境下用redis实现

    令牌桶算法更好，漏桶算法缓存请求不符合互联网低延迟的要求

    令牌桶可以暂存一定量令牌 应对突发流量
